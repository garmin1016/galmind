<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ã‚®ãƒ£ãƒ«ãƒã‚¤ãƒ³ãƒ‰è¨ºæ–­ï½œ10æ®µéšãƒ»100ç‚¹æº€ç‚¹</title>
  <meta name="description" content="19å•ã«1ã€œ5ã§ç­”ãˆã‚‹ã ã‘ã€‚æœ€å¾Œã®Q19ã¯ã‚¹ã‚³ã‚¢2å€æ‰±ã„ã§100ç‚¹æº€ç‚¹ï¼10æ®µéšãƒ¬ãƒ™ãƒ«ã¨ç”»åƒãŒå‡ºã‚‹è¨ºæ–­ã€‚">
  <meta property="og:title" content="ã‚®ãƒ£ãƒ«ãƒã‚¤ãƒ³ãƒ‰è¨ºæ–­" />
  <meta property="og:description" content="19å•ã«1ã€œ5ã§å›ç­”â†’100ç‚¹æº€ç‚¹ã§10æ®µéšãƒ¬ãƒ™ãƒ«è¨ºæ–­ã€‚" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="./assets/og_default.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <style>
    :root{--bg:#0f0f12;--card:#17171c;--ink:#f5f7fb;--muted:#b7bac6;--brand:#ff5bd5;--accent:#7cf7ff}
    *{box-sizing:border-box}
    body{margin:0;background:
      radial-gradient(900px 700px at -10% -10%,#18151f,transparent),
      radial-gradient(900px 700px at 110% -10%,#11202a,transparent),
      var(--bg);
      color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans JP,Arial}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:880px;margin:40px auto;padding:0 16px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:18px;box-shadow:0 20px 40px rgba(0,0,0,.35)}
    header{padding:28px 24px 0}
    h1{font-size:28px;margin:0}
    .pill{display:inline-block;font-weight:700;font-size:12px;letter-spacing:.1em;text-transform:uppercase;background:linear-gradient(90deg,var(--brand),#9b5bff);padding:6px 10px;border-radius:999px;color:#111;margin-bottom:8px}
    .lead{color:var(--muted);margin:8px 0 18px}
    .body{padding:8px 24px 24px}
    .grid{display:grid;gap:16px}
    @media(min-width:760px){.grid{grid-template-columns:1fr 1fr}}
    .q{padding:16px;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(0,0,0,.15)}
    .q h3{font-size:16px;margin:0 0 10px}
    .scale{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .scale label{display:flex;align-items:center;gap:8px;background:#121217;border:1px solid rgba(255,255,255,.08);padding:8px 10px;border-radius:10px;cursor:pointer}
    .scale input{accent-color:var(--brand)}
    .actions{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .btn{background:linear-gradient(90deg,var(--brand),#9b5bff);color:#111;border:none;padding:12px 16px;border-radius:12px;font-weight:800;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,.18);color:var(--ink)}
    .muted{color:var(--muted)}
    .result{display:none}
    .result.active{display:block}
    .res-card{display:grid;gap:16px;grid-template-columns:160px 1fr;align-items:center}
    .res-card img{width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#111}
    .small{font-size:12px}
    footer{opacity:.7;text-align:center;margin:28px 0}
    .hr{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.18),transparent);margin:16px 0}
    .badge{display:inline-block;background:#0c0c10;border:1px solid rgba(255,255,255,.12);padding:4px 8px;border-radius:999px;font-size:12px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111;border:1px solid rgba(255,255,255,.18);padding:10px 14px;border-radius:10px;display:none}
    .toast.show{display:block}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <span class="pill">ã‚®ãƒ£ãƒ«å¼Â®ï¸</span>
        <h1>ã‚®ãƒ£ãƒ«ãƒã‚¤ãƒ³ãƒ‰è¨ºæ–­ï¼ˆ10æ®µéšãƒ»100ç‚¹æº€ç‚¹ï¼‰</h1>
        <p class="lead">19å•ã«1ã€œ5ã§å›ç­” â†’ <b>Q1ã€œ18ã¯5ç‚¹æº€ç‚¹</b>ã€<b>Q19ã ã‘2å€</b>ã§è¨ˆç®—ã—ã¦<b>100ç‚¹æº€ç‚¹</b>ã€‚ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦<b>10æ®µéšãƒ¬ãƒ™ãƒ«ç”»åƒ</b>ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
      </header>
      <div class="body">
        <p class="muted">æ‰€è¦ï¼š2åˆ†ï¼é¸æŠå¼ã®ã¿ã€‚ç›´è¿‘ã®çµæœã¯ç«¯æœ«ã«ä¿å­˜ï¼ˆlocalStorageï¼‰ã€‚ä»»æ„ã§Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ä¿å­˜ã‚‚å¯èƒ½ï¼ˆGASè¨­å®šï¼‰ã€‚</p>
        <div class="hr"></div>

        <form id="quiz" class="grid" autocomplete="off"></form>

        <div class="hr"></div>
        <div class="actions">
          <button id="submitBtn" class="btn" type="button">åˆ¤å®šã™ã‚‹</button>
          <button id="resetBtn" class="btn secondary" type="button">ãƒªã‚»ãƒƒãƒˆ</button>
          <span class="muted small">â€»å„è¨­å•ã¯1ã€œ5ã§å¿…é ˆå…¥åŠ›</span>
        </div>

        <section id="result" class="result" aria-live="polite">
          <div class="hr"></div>
          <div class="res-card">
            <img id="resultImg" alt="è¨ºæ–­çµæœç”»åƒ" src="" />
            <div>
              <h2 id="resultTitle">çµæœ</h2>
              <p id="resultDesc" class="muted"></p>
              <div class="chips" style="margin:10px 0">
                <span id="chipLevel" class="badge"></span>
                <span id="chipScore" class="badge"></span>
              </div>
              <div class="actions">
                <button id="copyLink" class="btn secondary" type="button">çµæœãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</button>
                <a id="tweet" class="btn" href="#" target="_blank" rel="noopener">Xã§ã‚·ã‚§ã‚¢</a>
              </div>
              <p class="small muted" style="margin-top:8px">ç”»åƒã¯ <code>./assets/img_lv{1..10}.png</code> ã‚’ç”¨æ„ã—ã¦ãã ã•ã„ã€‚</p>
            </div>
          </div>
        </section>
      </div>
    </div>
    <footer class="small">Â© CGOãƒ‰ãƒƒãƒˆã‚³ãƒ ï½œã‚®ãƒ£ãƒ«å¼Â®ï¸</footer>
  </div>

  <div class="toast" id="toast">ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>

  <script>
  // ====== è¨­å®š ======
  const QUESTIONS = [
    'ä¼šç¤¾ã®ä¸­ã§ã€Œã‚„ã£ã¦ã¿ãŸã„ğŸ’ã€ã¨æ€ã†ã“ã¨ãŒã‚ã‚‹ï½ï½ï½ï¼Ÿ',
    'ä»Šã‚„ã£ã¦ã„ã‚‹ä»•äº‹ã‚¹ã‚­ï¼Ÿâ˜…',
    'ä»Šã‚ˆã‚Šã‚‚ã£ã¨ğŸ‘†ã‚¢ã‚²ğŸ‘†ã«ãªã‚ŠãŸã„ï¼Ÿ',
    'ã€Œç§ãŒã‚„ã‚ŠãŸã„ä»•äº‹ã¯ã“ã‚Œãƒ€ãƒ¨â•ã€ã£ã¦è¨€ãˆã‚‹ï¼Ÿ',
    'ç¤¾å†…ã§ã€Œã“ã®äººã®è©±èã„ã¦ã¿ãŸã„â˜ºã€ã£ã¦æ€ã£ãŸã¨ãã«ã€ã™ãã«é€£çµ¡ã§ãã‚‹âœ‰ï¼Ÿ',
    'è‡ªåˆ†æœ€é«˜ã‚¸ãƒ£ãƒ³ï½â™¥ã£ã¦æ€ã†ï¼Ÿ',
    'ç¤¾å†…é£²ã¿ä¼šï¼ˆé£Ÿäº‹ä¼šï¼‰ã§ã€å‘¨ã‚Šã«åˆã‚ã›ãšã€è‡ªåˆ†ãŒå¥½ããªé£Ÿã¹ç‰©/é£²ã¿ç‰©ğŸ¥ƒã‚’é ¼ã‚ã‚‹ï¼Ÿ',
    'ã‚¹ãƒ†ã‚­ãªæ„è¦‹ã‚’è¨€ã£ãŸäººã«ã€Œã„ã„ã˜ã‚ƒã‚“ï½ğŸµã€ã£ã¦è¨€ãˆã‚‹ï¼Ÿ',
    'å¤šå°‘ç„¡ç†ãªã“ã¨ã§ã‚‚ã€Œã‚¦ãƒã‚‰ãªã‚‰ã§ãã‚‹ã£ã—ã‚‡ğŸ’ªã€ã£ã¦æ€ãˆã‚‹ï¼Ÿ',
    'è‡ªåˆ†ã‚ˆã‚Šã‚¨ãƒ©ã‚¤äººã«ã‚‚ã€è‡ªä¿¡ã‚’ã‚‚ã£ã¦æ„è¦‹ãŒè¨€ãˆã‚‹âœ¨ï¼Ÿ',
    'è‡ªåˆ†ã‚‰ã—ã„æœã‚„æŒã¡ç‰©ğŸ‘—ã‚’ä¼šç¤¾ã§ã‚‚èº«ã«ç€ã‘ã¦ã„ã‚‹ï¼Ÿ',
    'å¤šå°‘å‡¹ã‚“ã§ã‚‚ã€Œé€™ã„ä¸ŠãŒã‚‹ãğŸ’ªã€ã¨åŠ›ãŒæ¹§ã„ã¦ãã‚‹ï½ï¼Ÿ',
    'è‡ªåˆ†ã¨é•ã†æ„è¦‹ãŒå‡ºãŸã¨ãã€Œãã‚Œã¡ãŒããªã„ï½ï¼ŸğŸ’¦ã€ã£ã¦è¨€ãˆã‚‹ï¼Ÿ',
    'ã„ã‚„ãªã“ã¨ã«ã¯ã™ã‹ã•ãšã€ŒNOâ•â•â•ã€ã£ã¦è¨€ãˆã‚‹ï¼Ÿ',
    'è‡ªåˆ†ã¯ãªã«ã‹æˆã—é‚ã’ã‚‰ã‚Œã¡ã‚ƒã†ã‹ã‚‚ğŸŒã¨æ€ã£ã¦ã‚‹ï½ï¼Ÿ',
    'è‡ªåˆ†ã®ã€Œã“ã‚Œã ã‘ã¯è­²ã‚Œãªã„ãƒƒâ£ã€ã£ã¦ãƒ¢ãƒ/ã‚³ãƒˆã£ã¦ã‚ã‚‹ï½ï¼Ÿ',
    'è€ƒãˆã‚‹ã‚ˆã‚Šä½“å‹•ã„ã¡ã‚ƒã†ï½ï½ï½ï½ï½ï¼ŸğŸ’ƒ',
    'è‡ªåˆ†ã®ã‚¹ã‚­ğŸ’ãªã¨ã“ã‚ï¼“ã¤ä»¥ä¸Šã„ãˆã‚‹ï½ï¼Ÿ',
    'è‡ªåˆ†ã®å¿ƒã«ã¯ã€Œè‡ªåˆ†è»¸ãƒ»ç›´æ„Ÿæ€§ãƒ»ãƒã‚¸ãƒ†ã‚£ãƒ–æ€è€ƒã€ãŒã‚ã‚‹ï½ï½ï½ï¼Ÿ' // Q19ï¼ˆÃ—2å€ï¼‰
  ];

  const GAS_URL = 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL'; // ä»»æ„: å›ç­”ãƒ­ã‚°ä¿å­˜å…ˆ

  // ====== æç”» ======
  const quizEl = document.getElementById('quiz');
  QUESTIONS.forEach((text, i)=>{
    const id = `q${i+1}`;
    const block = document.createElement('div');
    block.className = 'q';
    block.innerHTML = `
      <h3>Q${i+1}. ${text}</h3>
      <div class="scale" role="group" aria-label="${text}">
        ${[1,2,3,4,5].map(v=>`<label><input type="radio" name="${id}" value="${v}" required> ${v}</label>`).join('')}
        <span class="muted small">ï¼ˆ1 = å½“ã¦ã¯ã¾ã‚‰ãªã„ ï¼ 5 = ã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹ï¼‰</span>
      </div>`;
    quizEl.appendChild(block);
  });

  // ====== ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆ100ç‚¹æº€ç‚¹ãƒ»10æ®µéšï¼‰ ======
  function getScore(){
    let total = 0;
    for(let i=1;i<=QUESTIONS.length;i++){
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if(!sel) return null;
      const v = Number(sel.value);
      if(i === 19){
        total += v * 2; // Q19ã¯2å€ã§10ç‚¹æº€ç‚¹æ‰±ã„
      }else{
        total += v;
      }
    }
    return total; // æœ€å°19, æœ€å¤§100
  }

  function scoreToLevel(score){
    if(score <= 29) return 1;
    if(score <= 39) return 2;
    if(score <= 49) return 3;
    if(score <= 59) return 4;
    if(score <= 69) return 5;
    if(score <= 79) return 6;
    if(score <= 84) return 7;
    if(score <= 89) return 8;
    if(score <= 94) return 9;
    return 10; // 95ã€œ100
  }

  function renderResult(score){
    const level = scoreToLevel(score);
    const img = `./assets/img_lv${level}.png`;
    const title = 'ã‚ãªãŸã®ã‚®ãƒ£ãƒ«ãƒã‚¤ãƒ³ãƒ‰çµæœ';
    const desc = `ã‚¹ã‚³ã‚¢ï¼š<b>${score} / 100</b>ã€€ãƒ¬ãƒ™ãƒ«ï¼š<b>Lv${level}</b>`;

    document.getElementById('resultImg').src = img;
    document.getElementById('resultImg').alt = `Lv${level} ã®çµæœç”»åƒ`;
    document.getElementById('resultTitle').textContent = title;
    document.getElementById('resultDesc').innerHTML = desc;
    document.getElementById('chipLevel').textContent = `Lv${level}`;
    document.getElementById('chipScore').textContent = `${score}/100`;

    // ã‚·ã‚§ã‚¢ç”¨URL
    const payload = btoa(JSON.stringify({s:score,l:level}));
    const shareUrl = new URL(location.href.split('#')[0]);
    shareUrl.searchParams.set('r', payload);

    document.getElementById('copyLink').onclick = async ()=>{
      await navigator.clipboard.writeText(shareUrl.toString());
      toast('ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
    };
    document.getElementById('tweet').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent('ã€ã‚®ãƒ£ãƒ«ãƒã‚¤ãƒ³ãƒ‰è¨ºæ–­ã€‘çµæœã§ãŸâ™¡')}&url=${encodeURIComponent(shareUrl.toString())}`;

    document.getElementById('result').classList.add('active');

    // ä¿å­˜
    localStorage.setItem('galmind:last', JSON.stringify({score, level, ts: Date.now()}));

    // ä»»æ„ãƒ­ã‚°é€ä¿¡
    sendLog({score, level});
  }

  async function sendLog(model){
    if(!GAS_URL || GAS_URL.startsWith('YOUR_')) return;
    try{
      await fetch(GAS_URL, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({event:'submit', result:model, meta:{href:location.href, ref:document.referrer}})});
    }catch(e){ console.warn('log failed', e); }
  }

  // ====== ãƒœã‚¿ãƒ³ ======
  document.getElementById('submitBtn').onclick = ()=>{
    const score = getScore();
    if(score == null){ alert('æœªå›ç­”ã®è¨­å•ãŒã‚ã‚Šã¾ã™'); return; }
    renderResult(score);
    document.getElementById('result').scrollIntoView({behavior:'smooth'});
  };

  document.getElementById('resetBtn').onclick = ()=>{
    document.querySelectorAll('#quiz input[type="radio"]:checked').forEach(el=>el.checked=false);
    document.getElementById('result').classList.remove('active');
    window.history.replaceState({}, '', location.pathname);
  };

  // ====== å¾©å…ƒï¼ˆ?r=...ï¼‰ ======
  (function restore(){
    const r = new URLSearchParams(location.search).get('r');
    if(!r) return;
    try{
      const obj = JSON.parse(atob(r));
      if(typeof obj.score === 'number' || typeof obj.s === 'number'){
        const s = obj.score ?? obj.s;
        renderResult(s);
        document.getElementById('result').scrollIntoView({behavior:'smooth'});
      }
    }catch(e){ console.warn('restore failed', e); }
  })();

  function toast(msg){
    const t = document.getElementById('toast');
    t.textContent = msg; t.classList.add('show');
    setTimeout(()=>t.classList.remove('show'), 1600);
  }
  </script>

  <!-- =========================
  Google Apps Scriptï¼ˆç„¡æ–™ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä»»æ„ï¼‰
  ========================== -->
  <!--
function doPost(e){
  try{
    var body = JSON.parse(e.postData.contents);
    var ss = SpreadsheetApp.openById('YOUR_SHEET_ID');
    var sh = ss.getSheetByName('responses') || ss.insertSheet('responses');
    if (sh.getLastRow() === 0){
      sh.appendRow(['ts','event','score','level','href','ref','ua']);
    }
    var now = new Date();
    var m = body.result || {};
    var meta = body.meta || {};
    sh.appendRow([ now, body.event||'submit', m.score||m.s, m.level||m.l, meta.href||'', meta.ref||'', e.parameter.ua || '' ]);
    return ContentService.createTextOutput(JSON.stringify({ok:true})).setMimeType(ContentService.MimeType.JSON);
  }catch(err){
    return ContentService.createTextOutput(JSON.stringify({ok:false,error:String(err)})).setMimeType(ContentService.MimeType.JSON);
  }
}
function doGet(){ return ContentService.createTextOutput('ok'); }
  -->

</body>
</html>

